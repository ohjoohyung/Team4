
<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<!-- 공통 헤더-->
<th:block th:replace="fragments/htmlhead :: headFragment"></th:block>
<body>
	<!-- 공통 nav -->
	<th:block th:replace="common/nav :: navFragment"></th:block>
	<div class="bodiary-wrapper">

		<div class="content mt-4">
			<!-- 탭 -->
			<div class="custom-tab-1 ml-5 mr-5">
			
				<ul class="nav nav-tabs mb-3" >
					<li class="nav-item">
						<a th:href="@{/freeBrdList}">전체 | </a> 
					</li>				
					<li class="nav-item">
					  	<a th:href="@{/freeBrdList(cateGory=1)}">자유게시판 |</a>  
					</li>
					<li class="nav-item">
						<a th:href="@{/freeBrdList(cateGory=2)}">질문게시판 |</a>
					</li>
					<li class="nav-item">
						<a th:href="@{/freeBrdList(cateGory=3)}">팁게시판</a>
					</li>
				</ul>
				
				<!--carousel로 자유,팁,궁금 별로 조회수가 가장많고 최신글인 번호를 보여줌  -->
				<div class="card ml-5 mr-5" th:if="${cateGory} == 0 ">
					<div class="card-body" style="background-color:#d6e8f0;">
	                     <h4 class="card-title">HOT 전체 게시물</h4>
	                     <div class="bootstrap-carousel">
	                         <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
	                           
	                             <div class="carousel-inner">
	                                 <div class="carousel-item active" th:each="free : ${highLankFree}" style="cursor:pointer;" th:onclick="|javascript:freeDetail('${free.free_brd_seq}')|">
	                                 		<b class="card-text" th:if="${free.free_cat} == 1 ">자유</b>
	                                     	<h1 class="card-text text-primary" th:text="${free.free_brd_title}">
	                                     		
	                                     	</h1>
											<!-- 해당 글쓴 시간-->
											<p class="card-text">
												<i class="icon-clock" th:text="${free.free_brd_date}"></i>
											</p>
											<!-- 해당글 조회수 , 댓글수 부분 -->
											<p class="card-text">
												<i class="icon-eye" th:text="${free.free_brd_hits}"></i>
												&nbsp;&nbsp;
												<i class="icon-bubble"></i>&nbsp;&nbsp;5
											</p>
	                                 </div>
	                                 <div class="carousel-item" th:each="qna : ${highLankQna}" style="cursor:pointer;" th:onclick="|javascript:freeDetail('${qna.free_brd_seq}')|">
	                                 	 <b class="card-text" th:if="${qna.free_cat} == 2 ">질문</b>
	                                     <h1 class="card-text text-primary" th:text="${qna.free_brd_title}"></h1>
											<!-- 해당 글쓴 시간-->
											<p class="card-text">
												<i class="icon-clock" th:text="${qna.free_brd_date}"></i>
											</p>
											<!-- 해당글 조회수 , 댓글수 부분 -->
											<p class="card-text">
												<i class="icon-eye" th:text="${qna.free_brd_hits}"></i>
												&nbsp;&nbsp;
												<i class="icon-bubble"></i>&nbsp;&nbsp;5
											</p>
	                                 </div>
	                                 <div class="carousel-item" th:each="tip : ${highLankTip}" style="cursor:pointer;" th:onclick="|javascript:freeDetail('${tip.free_brd_seq}')|">
	                                 	<b class="card-text" th:if="${tip.free_cat} == 3 ">팁</b>
	                                     <h1 class="card-text text-primary" th:text="${tip.free_brd_title}"></h1>
											<!-- 해당 글쓴 시간-->
											<p class="card-text">
												<i class="icon-clock" th:text="${tip.free_brd_date}"></i>
											</p>
											<!-- 해당글 조회수 , 댓글수 부분 -->
											<p class="card-text">
												<i class="icon-eye" th:text="${tip.free_brd_hits}"></i>
												&nbsp;&nbsp;
												<i class="icon-bubble"></i>&nbsp;&nbsp;5
											</p>
	                                 </div>
	                             </div>
	                             <a class="carousel-control-prev" href="#carouselExampleIndicators" data-slide="prev" style=" margin-top: 130px;margin-left: 300px;">
			                             <span class="carousel-control-prev-icon" style="margin-right: 100px;"></span> 
			                             <span class="sr-only">Previous</span> 
	                           	</a>
	                             <a class="carousel-control-next" href="#carouselExampleIndicators" data-slide="next" style="margin-top: 130px;margin-right: 300px;">
			                             <span class="carousel-control-next-icon" style="margin-left: 100px;"></span> 
			                             <span class="sr-only">Next</span>
	                             </a>
	                         </div>
	                     </div>
	                 </div>                 
	             </div>
	              <!--carousel로 자유,팁,궁금 별로 조회수가 가장많고 최신글인 번호를 보여줌 END -->
	              
	            <!--carousel로 자유 게시판만 보여줌  -->
				<div class="card ml-5 mr-5" th:if="${cateGory} == 1 ">
					<div class="card-body" style="">
	                     <h4 class="card-title">HOT 자유 게시물</h4>
	                     <div class="bootstrap-carousel">
	                         <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
	                           
	                             <div class="carousel-inner">
	                                 
	                                  <div class="carousel-item active" th:each="free : ${highLankFree}" style="cursor:pointer;" th:onclick="|javascript:freeDetail('${free.free_brd_seq}')|">
	                                 		<b class="card-text" th:if="${free.free_cat} == 1 ">자유</b>
	                                     	<h1 class="card-text text-primary" th:text="${free.free_brd_title}"></h1>
											<!-- 해당 글쓴 시간-->
											<p class="card-text">
												<i class="icon-clock" th:text="${free.free_brd_date}"></i>
											</p>
											<!-- 해당글 조회수 , 댓글수 부분 -->
											<p class="card-text">
												<i class="icon-eye" th:text="${free.free_brd_hits}"></i>
												&nbsp;&nbsp;
												<i class="icon-bubble" th:text="${free.brd_cmt_count}"></i>
											</p>
	                                 </div>                          
	                             </div>
	                         </div>
	                     </div>
	                 </div>                 
	             </div>
	
				 <!--carousel로 질문 게시판만 보여줌  -->
				<div class="card ml-5 mr-5" th:if="${cateGory} == 2 ">
					<div class="card-body" style="">
	                     <h4 class="card-title">HOT 질문 게시물</h4>
	                     <div class="bootstrap-carousel">
	                         <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
	                           
	                             <div class="carousel-inner">
	                                 
	                                 <div class="carousel-item active" th:each="qna : ${highLankQna}" style="cursor:pointer;" th:onclick="|javascript:freeDetail('${qna.free_brd_seq}')|">
	                                 	 <b class="card-text" th:if="${qna.free_cat} == 2 ">질문</b>
	                                     <h1 class="card-text text-primary" th:text="${qna.free_brd_title}"></h1>
											<!-- 해당 글쓴 시간-->
											<p class="card-text">
												<i class="icon-clock" th:text="${qna.free_brd_date}"></i>
											</p>
											<!-- 해당글 조회수 , 댓글수 부분 -->
											<p class="card-text">
												<i class="icon-eye" th:text="${qna.free_brd_hits}"></i>
												&nbsp;&nbsp;
												<i class="icon-bubble" th:text="${qna.brd_cmt_count}"></i>
											</p>
	                                 </div>                          
	                             </div>
	                         </div>
	                     </div>
	                 </div>                 
	             </div>
	             
	              <!--carousel로 팁 게시판만 보여줌  -->
				<div class="card ml-5 mr-5" th:if="${cateGory} == 3 ">
					<div class="card-body" style="">
	                     <h4 class="card-title">HOT 팁 게시물</h4>
	                     <div class="bootstrap-carousel">
	                         <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
	                           
	                             <div class="carousel-inner">
	                                 
	                                  <div class="carousel-item active" th:each="tip : ${highLankTip}" style="cursor:pointer;" th:onclick="|javascript:freeDetail('${tip.free_brd_seq}')|">
	                                 	<b class="card-text" th:if="${tip.free_cat} == 3 ">팁</b>
	                                     <h1 class="card-text text-primary" th:text="${tip.free_brd_title}"></h1>
											<!-- 해당 글쓴 시간-->
											<p class="card-text">
												<i class="icon-clock" th:text="${tip.free_brd_date}"></i>
											</p>
											<!-- 해당글 조회수 , 댓글수 부분 -->
											<p class="card-text">
												<i class="icon-eye" th:text="${tip.free_brd_hits}"></i>
												&nbsp;&nbsp;
												<i class="icon-bubble" th:text="${tip.brd_cmt_count}"></i>
											</p>
	                                 </div>                              
	                             </div>
	                         </div>
	                     </div>
	                 </div>                 
	             </div>
				
				<div class="card ml-5 mr-5">
					<div class="card-body">
					
						<!-- 게시글 순서 드롭다운 -->
						<div class="row">
							<div class="col"></div>
							<div class="col-3">
								<div class="dropdown custom-dropdown ml-2">
									<button type="button" class="btn btn-sm btn-outline-primary"
										data-toggle="dropdown">
										<i class="ti-search m-r-5"></i>&nbsp;최신순&nbsp;<i
											class="fa fa-angle-down m-l-5"></i>
									</button>
									<div class="dropdown-menu dropdown-menu-right">
										<a class="dropdown-item" href="#">조회순</a> <a
											class="dropdown-item" href="#">댓글순</a> <a
											class="dropdown-item" href="#">12 AM</a>
									</div>
								</div>&nbsp;
								<!-- 페이징 사이즈 드롭다운 -->
								<div class="dropdown custom-dropdown">
									<button type="button" class="btn btn-sm btn-outline-primary"
										data-toggle="dropdown">
										10개씩&nbsp;<i class="fa fa-angle-down m-l-5"></i>
									</button>
									<div class="dropdown-menu dropdown-menu-right">
										<a class="dropdown-item" href="#">5개씩</a> <a
											class="dropdown-item" href="#">15개씩</a> <a
											class="dropdown-item" href="#">20개씩</a>
									</div>
								</div>
							</div>
						</div>
						<!-- 게시글 순서 드롭다운 END-->
						
						<!-- 글쓰기 버튼(로그인한 사람만 글을 쓸수 있음) -->
						<button type="button" onclick="location.href='freeBrdForm'" 
							class="btn btn-lg w-100 mb-1 btn-primary" th:if="${user != null && user != ''}">
							글쓰기&nbsp;&nbsp;&nbsp;<span><i class="icon-note"></i></span>
						</button>
						
						
							<!-- 전체 게시판 내용 -->
							<div class="p-t-15" th:if="${cateGory} == 0 "> 

								<!-- <h1 th:text="${cateGory}"></h1> -->
									<div class="card" th:each="list : ${freeBrdList}" >
						
									
									<!-- 얘가 기준 (다른 게시글도 이거랑 동일하게) --> 
										<div class="row card-body">
											<div class="col-8">
												<!-- 카테고리 부분(자유-1,질문-2,팁-3) -->
												<span class="card-text text-primary" th:if="${list.free_cat} == 1 ">자유</span>
												<span class="card-text text-primary" th:if="${list.free_cat} == 2 ">질문</span>	
												<span class="card-text text-primary" th:if="${list.free_cat} == 3 ">팁</span>
												<!-- 글제목 부분 -->
												<h5 class="card-title mt-3">
													<a th:href="@{/freeBrdDetail(seq=${list.free_brd_seq})}" th:text="${list.free_brd_title}"></a>
												</h5>
												<!-- 해당 글쓴 시간-->
												<p class="card-text">
													<i class="icon-clock" th:text="${list.free_brd_date}"></i>
												</p>
												<!-- 해당글 조회수 , 댓글수 부분 -->
												<p class="card-text">
													<i class="icon-eye" th:text="${list.free_brd_hits}"></i>
													&nbsp;&nbsp;
													<i id="allCmt" class="icon-bubble" th:text="${list.brd_cmt_count}">&nbsp;&nbsp;</i>
												</p>
											
											</div>
											
											<!-- 해당글의 이미지가 있는경우  -->
											<div class="col-3" th:if="${list.free_brd_image != null && list.free_brd_image != ''}">	
												<!-- root경로 webapp 부터 시작(생략) -->
												 <img class="img-fluid" th:src="@{/assets/upload/freeBrdUpload/}+${list.free_brd_image}" style="width:200px;height:150px;"  />																															
											</div>
											
											<!-- 해당글의 이미지가 없는경우  -->
											<div class="col-3" th:if="${list.free_brd_image == null || list.free_brd_image == ''}">	
												<!-- root경로 webapp 부터 시작(생략) -->
												 <div style="width:200px;height:150px;"  ></div>																															
											</div>																																									
											
											
											<div class="col mt-0 pt-0">
												<div class="mr-3">
													<ul>
														<li class="icons dropdown">
															<div class="user-img c-pointer position-relative"
																data-toggle="dropdown">
																<span class="activity active"></span> <i
																	class="icon-options-vertical"></i>
															</div>
															<div class="basic-dropdown">

																<!-- 삭제는 해당글을 쓴사람만 지울수(볼수) 있고 신고는 해당글을쓴사람 해당글쓴이가 아닌사람도 볼수있다 -->
																<div class="dropdown-menu" th:if="${list.user_email == user}">
																	<a class="dropdown-item" th:onclick="freeBrdDelete([[${list.free_brd_seq}]],[[${list.brd_cmt_count}]])" >삭제</a> 
																	<a	class="dropdown-item" href="#">신고</a> 
																	<!-- 글번호 숨기기 -->
																	<input type="hidden" id="allSeq" th:value="${list.free_brd_seq}"/>
																</div>
																
																<div class="dropdown-menu" th:if="${list.user_email != user}"> 
																	<a	class="dropdown-item" href="#">신고</a> 
																</div>

															</div>
														</li>
													</ul>
												</div>
											</div>
										</div>

									</div>
									<!-- 얘가 기준 --> 

								<!-- 페이지 -->
								<th:block th:if="${pagination.totalListCnt != 0}">
									<div class="bootstrap-pagination">
										<nav>
											<ul class="pagination justify-content-center">
												<li class="page-item" th:if="${pagination.block != 1}">
											      <a class="page-link" th:href="@{freeBrdList(page=1,searchType=${search.searchType},keyword=${search.keyword})}" aria-label="Previous">
											        <span aria-hidden="true">처음</span>
											      </a>
											    </li>
											    <li class="page-item" th:if="${pagination.block != 1}">
											      <a class="page-link" th:href="@{freeBrdList(page=${pagination.prevBlock},searchType=${search.searchType},keyword=${search.keyword})}" aria-label="Previous">
											        <span aria-hidden="true">이전</span>
											      </a>
											    </li>
											    <th:block  th:with="start = ${pagination.startPage}, end = ${pagination.endPage}">										    	    	
												    <li class="page-item" th:each="pageButton : ${#numbers.sequence(start, end)}">  	
													    <th:block th:if="${pageButton == pagination.page}">
												    		<a class="page-link" th:href="@{freeBrdList(page=${pageButton},searchType=${search.searchType},keyword=${search.keyword})}" th:text=${pageButton} style="background-color:#b3cbe5;"></a>								   													    		
												    	</th:block>
												    	<th:block th:if="${pageButton != pagination.page}">
												    		<a class="page-link" th:href="@{freeBrdList(page=${pageButton},searchType=${search.searchType},keyword=${search.keyword})}" th:text=${pageButton} ></a>											    		
												    	</th:block>				  	
												    </li>										    
											    </th:block>
											    <li class="page-item" th:if="${pagination.block != pagination.totalBlockCnt}"> 
											      <a class="page-link" th:href="@{freeBrdList(page=${pagination.nextBlock},searchType=${search.searchType},keyword=${search.keyword})}" aria-label="Next">
											        <span aria-hidden="true">다음</span>
											      </a>
											    </li>
											    <li class="page-item" th:if="${pagination.block != pagination.totalBlockCnt}">
											      <a class="page-link"  th:href="@{freeBrdList(page=${pagination.totalPageCnt},searchType=${search.searchType},keyword=${search.keyword})}" aria-label="Previous">
											        <span aria-hidden="true">끝</span>
											      </a>
											    </li>
											</ul>
										</nav>
									</div> 
								<th:block/>
								<!-- 페이지 처리 END -->
								
							   <!-- 	<div>
									<h6 th:text="|페이지 당 보여지는 게시글의 최대 개수 :${pagination.pageSize}|"></h6>
									<h6 th:text="|총게시글 수 :${pagination.totalListCnt}|"></h6>
									<h6 th:text="|총페이지 수 :${pagination.totalPageCnt}|"></h6>
									<h6 th:text="|현재 페이지 :${pagination.page}|"></h6>
									<h6 th:text="|현재 블럭:${pagination.block}|"></h6>
									<h6 th:text="|총 블럭:${pagination.totalBlockCnt}|"></h6>								
								</div> -->
								
								<!-- 검색 페이지 -->
								<div class="row">
									<div class="col"></div>
									<div class="basic-form col-7 center">
										<form class="form-inline">
											<!-- 검색 조건 -->
											
												<div style="padding-right:10px">

													<select class="form-control form-control-sm" name="searchType" id="searchType" style="margin-bottom: 10px;">
									
														<option value="title">제목</option>
									
														<option value="content">내용</option>
									
														<option value="nickName">닉네임</option>
									
													</select>
									
												</div>
											<!-- 검색어 입력 인풋 -->
											<div class="form-group mx-sm-3 mb-2">
												<input type="text" class="form-control input-default" name="keyword" id="keyword" placeholder="검색어를 입력해주세요" style="height:34px;">
											</div>
											<div>
												<button type="submit" name="btnSearch" id="btnSearch" class="btn btn-primary mb-2" onclick="button1_click();" value="${pagination.keyword}">검색</button>
											</div>
										</form>
									</div>
									<div class="col-2"></div>
								</div>
								<!-- 검색 페이지  END  -->	
							</div>
							<!-- 전체 게시판 내용 END-->	
						


							<!-- 자유게시판 -->
								
								<div class="p-t-15" th:if="${cateGory} == 1 "> 
									
									<!-- <h1 th:text="${cateGory}"></h1> -->
									<div class="card" th:each="list : ${freeBrdList}" >
						
									
									<!-- 얘가 기준 (다른 게시글도 이거랑 동일하게) --> 
										<div class="row card-body">
											<div class="col-8">
												<!-- 카테고리 부분(자유-1,질문-2,팁-3) -->
												<span class="card-text text-primary" th:if="${list.free_cat} == 1 ">자유</span>
												<span class="card-text text-primary" th:if="${list.free_cat} == 2 ">질문</span>	
												<span class="card-text text-primary" th:if="${list.free_cat} == 3 ">팁</span>
												<!-- 글제목 부분 -->
												<h5 class="card-title mt-3">
													<a th:href="@{/freeBrdDetail(seq=${list.free_brd_seq})}" th:text="${list.free_brd_title}"></a>
												</h5>
												<!-- 해당 글쓴 시간-->
												<p class="card-text">
													<i class="icon-clock" th:text="${list.free_brd_date}"></i>
												</p>
												<!-- 해당글 조회수 , 댓글수 부분 -->
												<p class="card-text">
													<i class="icon-eye" th:text="${list.free_brd_hits}"></i>
													&nbsp;&nbsp;
													<i class="icon-bubble" th:text="${list.brd_cmt_count}"></i>
												</p>
											
											</div>
											
											<!-- 해당글의 이미지가 있는경우  -->
											<div class="col-3" th:if="${list.free_brd_image != null && list.free_brd_image != ''}">	
												<!-- root경로 webapp 부터 시작(생략) -->
												 <img class="img-fluid" th:src="@{/assets/upload/freeBrdUpload/}+${list.free_brd_image}" style="width:200px;height:150px;"  />																															
											</div>
											
											<!-- 해당글의 이미지가 없는경우  -->
											<div class="col-3" th:if="${list.free_brd_image == null || list.free_brd_image == ''}">	
												<!-- root경로 webapp 부터 시작(생략) -->
												 <div style="width:200px;height:150px;"  ></div>																															
											</div>																																									
											
											
											<div class="col mt-0 pt-0">
												<div class="mr-3">
													<ul>
														<li class="icons dropdown">
															<div class="user-img c-pointer position-relative"
																data-toggle="dropdown">
																<span class="activity active"></span> <i
																	class="icon-options-vertical"></i>
															</div>
															<div class="basic-dropdown">


																<div class="dropdown-menu">
																	<a class="dropdown-item" th:onclick="freeBrdDelete([[${list.free_brd_seq}]],[[${list.brd_cmt_count}]])">삭제</a> 
																	<a	class="dropdown-item" href="#">신고</a> 
																</div>

															</div>
														</li>
													</ul>
												</div>
											</div>
										</div>

									</div>
									<!-- 얘가 기준 --> 

								<!-- 페이지 -->
								<th:block th:if="${pagination.totalListCnt != 0}">
									<div class="bootstrap-pagination">
										<nav>
											<ul class="pagination justify-content-center">
												<li class="page-item" th:if="${pagination.block != 1}">
											      <a class="page-link" th:href="@{freeBrdList(cateGory=1,page=1,searchType=${search.searchType},keyword=${search.keyword})}" aria-label="Previous">
											        <span aria-hidden="true">처음</span>
											      </a>
											    </li>
											    <li class="page-item" th:if="${pagination.block != 1}">
											      <a class="page-link" th:href="@{freeBrdList(cateGory=1,page=${pagination.prevBlock},searchType=${search.searchType},keyword=${search.keyword})}" aria-label="Previous">
											        <span aria-hidden="true">이전</span>
											      </a>
											    </li>
											    <th:block  th:with="start = ${pagination.startPage}, end = ${pagination.endPage}">										    	    	
												    <li class="page-item" th:each="pageButton : ${#numbers.sequence(start, end)}">  	
													    <th:block th:if="${pageButton == pagination.page}">
												    		<a class="page-link" th:href="@{freeBrdList(cateGory=1,page=${pageButton},searchType=${search.searchType},keyword=${search.keyword})}" th:text=${pageButton} style="background-color:#b3cbe5;"></a>								   													    		
												    	</th:block>
												    	<th:block th:if="${pageButton != pagination.page}">
												    		<a class="page-link" th:href="@{freeBrdList(cateGory=1,page=${pageButton},searchType=${search.searchType},keyword=${search.keyword})}" th:text=${pageButton} ></a>											    		
												    	</th:block>				  	
												    </li>										    
											    </th:block>
											    <li class="page-item" th:if="${pagination.block != pagination.totalBlockCnt}"> 
											      <a class="page-link" th:href="@{freeBrdList(cateGory=1,page=${pagination.nextBlock},searchType=${search.searchType},keyword=${search.keyword})}" aria-label="Next">
											        <span aria-hidden="true">다음</span>
											      </a>
											    </li>
											    <li class="page-item" th:if="${pagination.block != pagination.totalBlockCnt}">
											      <a class="page-link"  th:href="@{freeBrdList(cateGory=1,page=${pagination.totalPageCnt},searchType=${search.searchType},keyword=${search.keyword})}" aria-label="Previous">
											        <span aria-hidden="true">끝</span>
											      </a>
											    </li>
											</ul>
										</nav>
									</div> 
								<th:block/>
								<!-- 페이지 처리 END -->
								
	
								
								<!-- 검색 페이지 -->
								<div class="row">
									<div class="col"></div>
									<div class="basic-form col-7 center">
										<form class="form-inline">
											<!-- 검색 조건 -->
											
												<div style="padding-right:10px">

													<select class="form-control form-control-sm" name="searchType" id="searchType" style="margin-bottom: 10px;">
									
														<option value="title">제목</option>
									
														<option value="content">내용</option>
									
														<option value="nickName">닉네임</option>
									
													</select>
									
												</div>
											<!-- 검색어 입력 인풋 -->
											<div class="form-group mx-sm-3 mb-2">
												<input type="text" class="form-control input-default" name="keyword" id="keyword" placeholder="검색어를 입력해주세요" style="height:34px;">
											</div>
											<div>
												<button type="submit" name="btnFreeSearch" id="btnFreeSearch" class="btn btn-primary mb-2" onclick="buttonFree_click();" value="${pagination.keyword}">검색</button>
											</div>
										</form>
									</div>
									<div class="col-2"></div>
								</div>
								<!-- 검색 페이지  END  -->	
							</div>
							<!-- 자유 게시판 내용 END-->	
				
							<!-- 질문게시판 -->
								<div class="p-t-15" th:if="${cateGory} == 2 "> 

							
									<div class="card" th:each="list : ${freeBrdList}" >
						
									
									<!-- 얘가 기준 (다른 게시글도 이거랑 동일하게) --> 
										<div class="row card-body">
											<div class="col-8">
												<!-- 카테고리 부분(자유-1,질문-2,팁-3) -->				
												<span class="card-text text-primary">질문</span>	
												<!-- 글제목 부분 -->
												<h5 class="card-title mt-3">
													<a th:href="@{/freeBrdDetail(seq=${list.free_brd_seq})}" th:text="${list.free_brd_title}"></a>
												</h5>
												<!-- 해당 글쓴 시간-->
												<p class="card-text">
													<i class="icon-clock" th:text="${list.free_brd_date}"></i>
												</p>
												<!-- 해당글 조회수 , 댓글수 부분 -->
												<p class="card-text">
													<i class="icon-eye" th:text="${list.free_brd_hits}"></i>
													&nbsp;&nbsp;
													<i class="icon-bubble" th:text="${list.brd_cmt_count}"></i>
												</p>
											
											</div>
											
											<!-- 해당글의 이미지가 있는경우  -->
											<div class="col-3" th:if="${list.free_brd_image != null && list.free_brd_image != ''}">	
												<!-- root경로 webapp 부터 시작(생략) -->
												 <img class="img-fluid" th:src="@{/assets/upload/freeBrdUpload/}+${list.free_brd_image}" style="width:200px;height:150px;"  />																															
											</div>
											
											<!-- 해당글의 이미지가 없는경우  -->
											<div class="col-3" th:if="${list.free_brd_image == null || list.free_brd_image == ''}">	
												<!-- root경로 webapp 부터 시작(생략) -->
												 <div style="width:200px;height:150px;"  ></div>																															
											</div>																																									
											
											
											<div class="col mt-0 pt-0">
												<div class="mr-3">
													<ul>
														<li class="icons dropdown">
															<div class="user-img c-pointer position-relative"
																data-toggle="dropdown">
																<span class="activity active"></span> <i
																	class="icon-options-vertical"></i>
															</div>
															<div class="basic-dropdown">


																<div class="dropdown-menu">
																	<a class="dropdown-item" th:onclick="freeBrdDelete([[${list.free_brd_seq}]],[[${list.brd_cmt_count}]])">삭제</a> 
																	<a	class="dropdown-item" href="#">신고</a> 
																</div>

															</div>
														</li>
													</ul>
												</div>
											</div>
										</div>

									</div>
									<!-- 얘가 기준 --> 

								<!-- 페이지 -->
								<th:block th:if="${pagination.totalListCnt != 0}">
									<div class="bootstrap-pagination">
										<nav>
											<ul class="pagination justify-content-center">
												<li class="page-item" th:if="${pagination.block != 1}">
											      <a class="page-link" th:href="@{freeBrdList(cateGory=2,page=1,searchType=${search.searchType},keyword=${search.keyword})}" aria-label="Previous">
											        <span aria-hidden="true">처음</span>
											      </a>
											    </li>
											    <li class="page-item" th:if="${pagination.block != 1}">
											      <a class="page-link" th:href="@{freeBrdList(cateGory=2,page=${pagination.prevBlock},searchType=${search.searchType},keyword=${search.keyword})}" aria-label="Previous">
											        <span aria-hidden="true">이전</span>
											      </a>
											    </li>
											    <th:block  th:with="start = ${pagination.startPage}, end = ${pagination.endPage}">										    	    	
												    <li class="page-item" th:each="pageButton : ${#numbers.sequence(start, end)}">  	
													    <th:block th:if="${pageButton == pagination.page}">
												    		<a class="page-link" th:href="@{freeBrdList(cateGory=2,page=${pageButton},searchType=${search.searchType},keyword=${search.keyword})}" th:text=${pageButton} style="background-color:#b3cbe5;"></a>								   													    		
												    	</th:block>
												    	<th:block th:if="${pageButton != pagination.page}">
												    		<a class="page-link" th:href="@{freeBrdList(cateGory=2,page=${pageButton},searchType=${search.searchType},keyword=${search.keyword})}" th:text=${pageButton} ></a>											    		
												    	</th:block>				  	
												    </li>										    
											    </th:block>
											    <li class="page-item" th:if="${pagination.block != pagination.totalBlockCnt}"> 
											      <a class="page-link" th:href="@{freeBrdList(cateGory=2,page=${pagination.nextBlock},searchType=${search.searchType},keyword=${search.keyword})}" aria-label="Next">
											        <span aria-hidden="true">다음</span>
											      </a>
											    </li>
											    <li class="page-item" th:if="${pagination.block != pagination.totalBlockCnt}">
											      <a class="page-link"  th:href="@{freeBrdList(cateGory=2,page=${pagination.totalPageCnt},searchType=${search.searchType},keyword=${search.keyword})}" aria-label="Previous">
											        <span aria-hidden="true">끝</span>
											      </a>
											    </li>
											</ul>
										</nav>
									</div> 
								<th:block/>
								<!-- 페이지 처리 END -->
			
								
								<!-- 검색 페이지 -->
								<div class="row">
									<div class="col"></div>
									<div class="basic-form col-7 center">
										<form class="form-inline">
											<!-- 검색 조건 -->
											
												<div style="padding-right:10px">

													<select class="form-control form-control-sm" name="searchType" id="searchType" style="margin-bottom: 10px;">
									
														<option value="title">제목</option>
									
														<option value="content">내용</option>
									
														<option value="nickName">닉네임</option>
									
													</select>
									
												</div>
											<!-- 검색어 입력 인풋 -->
											<div class="form-group mx-sm-3 mb-2">
												<input type="text" class="form-control input-default" name="keyword" id="keyword" placeholder="검색어를 입력해주세요" style="height:34px;">
											</div>
											<div>
												<button type="submit" name="btnQnaSearch" id="btnQnaSearch" class="btn btn-primary mb-2" onclick="buttonQna_click();" value="${pagination.keyword}">검색</button>
											</div>
										</form>
									</div>
									<div class="col-2"></div>
								</div>
								<!-- 검색 페이지  END  -->	
							</div>
							<!-- 질문 게시판 내용 END-->	
							
							<!-- 팁 게시판 -->
								<div class="p-t-15" th:if="${cateGory} == 3 "> 

						
									<div class="card" th:each="list : ${freeBrdList}" >
						
									
									<!-- 얘가 기준 (다른 게시글도 이거랑 동일하게) --> 
										<div class="row card-body">
											<div class="col-8">
												<!-- 카테고리 부분(자유-1,질문-2,팁-3) -->				
												<span class="card-text text-primary">팁</span>	
												<!-- 글제목 부분 -->
												<h5 class="card-title mt-3">
													<a th:href="@{/freeBrdDetail(seq=${list.free_brd_seq})}" th:text="${list.free_brd_title}"></a>
												</h5>
												<!-- 해당 글쓴 시간-->
												<p class="card-text">
													<i class="icon-clock" th:text="${list.free_brd_date}"></i>
												</p>
												<!-- 해당글 조회수 , 댓글수 부분 -->
												<p class="card-text">
													<i class="icon-eye" th:text="${list.free_brd_hits}"></i>
													&nbsp;&nbsp;
													<i class="icon-bubble" th:text="${list.brd_cmt_count}"></i>
												</p>
											
											</div>
											
											<!-- 해당글의 이미지가 있는경우  -->
											<div class="col-3" th:if="${list.free_brd_image != null && list.free_brd_image != ''}">	
												<!-- root경로 webapp 부터 시작(생략) -->
												 <img class="img-fluid" th:src="@{/assets/upload/freeBrdUpload/}+${list.free_brd_image}" style="width:200px;height:150px;"  />																															
											</div>
											
											<!-- 해당글의 이미지가 없는경우  -->
											<div class="col-3" th:if="${list.free_brd_image == null || list.free_brd_image == ''}">	
												<!-- root경로 webapp 부터 시작(생략) -->
												 <div style="width:200px;height:150px;"  ></div>																															
											</div>																																									
											
											
											<div class="col mt-0 pt-0">
												<div class="mr-3">
													<ul>
														<li class="icons dropdown">
															<div class="user-img c-pointer position-relative"
																data-toggle="dropdown">
																<span class="activity active"></span> <i
																	class="icon-options-vertical"></i>
															</div>
															<div class="basic-dropdown">


																<div class="dropdown-menu">
																	<a class="dropdown-item" th:onclick="freeBrdDelete([[${list.free_brd_seq}]],[[${list.brd_cmt_count}]])">삭제</a> 
																	<a	class="dropdown-item" href="#">신고</a> 
																</div>

															</div>
														</li>
													</ul>
												</div>
											</div>
										</div>

									</div>
									<!-- 얘가 기준 --> 

								<!-- 페이지 -->
								<th:block th:if="${pagination.totalListCnt != 0}">
									<div class="bootstrap-pagination">
										<nav>
											<ul class="pagination justify-content-center">
												<li class="page-item" th:if="${pagination.block != 1}">
											      <a class="page-link" th:href="@{freeBrdList(cateGory=3,page=1,searchType=${search.searchType},keyword=${search.keyword})}" aria-label="Previous">
											        <span aria-hidden="true">처음</span>
											      </a>
											    </li>
											    <li class="page-item" th:if="${pagination.block != 1}">
											      <a class="page-link" th:href="@{freeBrdList(cateGory=3,page=${pagination.prevBlock},searchType=${search.searchType},keyword=${search.keyword})}" aria-label="Previous">
											        <span aria-hidden="true">이전</span>
											      </a>
											    </li>
											    <th:block  th:with="start = ${pagination.startPage}, end = ${pagination.endPage}">										    	    	
												    <li class="page-item" th:each="pageButton : ${#numbers.sequence(start, end)}">  	
													    <th:block th:if="${pageButton == pagination.page}">
												    		<a class="page-link" th:href="@{freeBrdList(cateGory=3,page=${pageButton},searchType=${search.searchType},keyword=${search.keyword})}" th:text=${pageButton} style="background-color:#b3cbe5;"></a>								   													    		
												    	</th:block>
												    	<th:block th:if="${pageButton != pagination.page}">
												    		<a class="page-link" th:href="@{freeBrdList(cateGory=3,page=${pageButton},searchType=${search.searchType},keyword=${search.keyword})}" th:text=${pageButton} ></a>											    		
												    	</th:block>				  	
												    </li>										    
											    </th:block>
											    <li class="page-item" th:if="${pagination.block != pagination.totalBlockCnt}"> 
											      <a class="page-link" th:href="@{freeBrdList(cateGory=3,page=${pagination.nextBlock},searchType=${search.searchType},keyword=${search.keyword})}" aria-label="Next">
											        <span aria-hidden="true">다음</span>
											      </a>
											    </li>
											    <li class="page-item" th:if="${pagination.block != pagination.totalBlockCnt}">
											      <a class="page-link"  th:href="@{freeBrdList(cateGory=3,page=${pagination.totalPageCnt},searchType=${search.searchType},keyword=${search.keyword})}" aria-label="Previous">
											        <span aria-hidden="true">끝</span>
											      </a>
											    </li>
											</ul>
										</nav>
									</div> 
								<th:block/>
								<!-- 페이지 처리 END -->
		
								
								<!-- 검색 페이지 -->
								<div class="row">
									<div class="col"></div>
									<div class="basic-form col-7 center">
										<form class="form-inline">
											<!-- 검색 조건 -->
											
												<div style="padding-right:10px">

													<select class="form-control form-control-sm" name="searchType" id="searchType" style="margin-bottom: 10px;">
									
														<option value="title">제목</option>
									
														<option value="content">내용</option>
									
														<option value="nickName">닉네임</option>
									
													</select>
									
												</div>
											<!-- 검색어 입력 인풋 -->
											<div class="form-group mx-sm-3 mb-2">
												<input type="text" class="form-control input-default" name="keyword" id="keyword" placeholder="검색어를 입력해주세요" style="height:34px;">
											</div>
											<div>
												<button type="submit" name="btnTipSearch" id="btnTipSearch" class="btn btn-primary mb-2" onclick="buttonTip_click();" value="${pagination.keyword}">검색</button>
											</div>
										</form>
									</div>
									<div class="col-2"></div>
								</div>
								<!-- 검색 페이지  END  -->	
							</div>
							<!-- 팁 게시판 내용 END-->	
						

								
							</div>
						</div>
						
						
					</div>
				</div>
				
				
			</div>
				<!--<div class="bodiary-wrapper"> END  -->


	<!-- 공통 스크립트-->
	<th:block th:replace="fragments/script :: scriptFragment"></th:block>
</body>
<script type="text/javascript">

	/* 전체게시판 삭제시  */
	/* $("#freeBrdDelete").on("click", function(){

		var count = $('#allCmt').text();
		var seq = $("#allSeq").val();
		alert("댓글 개수" + count +"해당 글번호"+seq);
		
		if(count > 0){
			alert("댓글이 있는 게시물은 삭제 할 수 없습니다!");	
		}else{
			if (confirm("정말 이 게시글을 삭제하시겠습니까?") == true){
				location.href = "freeBrdDelete?seq="+seq;
			}
		} 

	}); */
	/* 게시판 삭제시 호출 함수 */
	function freeBrdDelete(seq,cmt_cnt){
		
		//alert("글번호:"+seq+"댓글 개수"+cmt_cnt);
		if(cmt_cnt > 0){
			alert("댓글이 있는 게시물은 삭제 할 수 없습니다!");	
		}else{
			if (confirm("정말 이 게시글을 삭제하시겠습니까?") == true){
				location.href = "freeBrdDelete?seq="+seq;
			}
		} 
		
	}
</script>

<th:block layout:fragment="script">
    <script type="text/javascript">
	    /* function button1_click() {
	    	alert("버튼1을 누르셨습니다.");
	    } */
	    $(document).on('click', '#btnSearch', function(e){
	
			e.preventDefault();
	
			var url = "freeBrdList";
			
			url = url + "?searchType=" + $('#searchType').val();
	
			url = url + "&keyword=" + $('#keyword').val();
	
			location.href = url;
	
			console.log(url);
	
		});	 
    </script>
    <script type="text/javascript">
	    /* 자유게시판용 검색 */
	    $(document).on('click', '#btnFreeSearch', function(e){
	
			e.preventDefault();
	
			var url = "freeBrdList";
			
			url = url + "?cateGory=" + 1;
			
			url = url + "&searchType=" + $('#searchType').val();
	
			url = url + "&keyword=" + $('#keyword').val();
	
			location.href = url;
	
			console.log(url);
	
		});	 
    </script>
	<script type="text/javascript">
	    /* 질문게시판용 검색 */
	    $(document).on('click', '#btnQnaSearch', function(e){
	
			e.preventDefault();
	
			var url = "freeBrdList";
			
			url = url + "?cateGory=" + 2;
			
			url = url + "&searchType=" + $('#searchType').val();
	
			url = url + "&keyword=" + $('#keyword').val();
	
			location.href = url;
	
			console.log(url);
	
		});	 
    </script>
    <script type="text/javascript">
	    /* 팁 게시판용 검색 */
	    $(document).on('click', '#btnTipSearch', function(e){
	
			e.preventDefault();
	
			var url = "freeBrdList";
			
			url = url + "?cateGory=" + 3;
			
			url = url + "&searchType=" + $('#searchType').val();
	
			url = url + "&keyword=" + $('#keyword').val();
	
			location.href = url;
	
			console.log(url);
	
		});	 
    </script>
    <script type="text/javascript"> 
   		function freeDetail(seq) 
   			{ 
   				 /* alert(idx); 
   				 var pageNum = idx;  */
   				 location.href="freeBrdDetail?seq="+seq; 
   			} 
    </script>

 </th:block>
</html>