<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<!-- 공통 헤더-->
<th:block th:replace="fragments/htmlhead :: headFragment"></th:block>
<body>
	<!-- 공통 nav -->
	<th:block th:replace="common/nav :: navFragment"></th:block>
	<div class="bodiary-wrapper">

		<div class="content mt-4">
			<!-- 탭 -->
			<div class="custom-tab-1 ml-5 mr-5 mt-5">
			
				<ul class="nav nav-tabs mb-4 pt-4" >
					<li class="nav-item">
						<a th:href="@{/freeBrdList}"><h2>전체&nbsp;&nbsp;|&nbsp;&nbsp;</h2></a> 
					</li>				
					<li class="nav-item">
					  	<a th:href="@{/freeBrdList(cateGory=1)}"><h2>자유게시판&nbsp;&nbsp;|&nbsp;&nbsp;</h2></a>  
					</li>
					<li class="nav-item">
						<a th:href="@{/freeBrdList(cateGory=2)}"><h2>질문게시판&nbsp;&nbsp;|&nbsp;&nbsp;</h2></a>
					</li>
					<li class="nav-item">
						<a th:href="@{/freeBrdList(cateGory=3)}"><h2>팁게시판</h2></a>
					</li>
				</ul>

				
				<!--carousel로 자유,팁,궁금 별로 조회수가 가장많고 최신글인 번호를 보여줌  -->
	            <h4 class="ml-5 mb-3"><svg class="pb-1" height="30" viewBox="0 0 512 512" width="30" xmlns="http://www.w3.org/2000/svg"><g id="flat"><path d="m276 116a107.37 107.37 0 0 1 20 62.409v21.591a30.739 30.739 0 0 0 29.821-23.283l2.179-8.717 5.912 7.095a63 63 0 0 1 -.564 81.333 22.147 22.147 0 0 0 1.152 30.072 22.147 22.147 0 0 0 32.955-1.826l16.545-20.674 16 40a139.835 139.835 0 0 1 -35.059 139.059l-2.018 2.018a146.549 146.549 0 0 1 -103.623 42.923h-16.325a146.549 146.549 0 0 1 -125.665-71.15 146.551 146.551 0 0 1 12.681-168.734l64.764-78.4a53.884 53.884 0 0 0 7.7-56.2 53.883 53.883 0 0 1 19.345-66.716l34.2-22.8v29.591a107.37 107.37 0 0 0 20 62.409z" fill="#e82f3e"/><path d="m315.077 433.411.071-.071a99.417 99.417 0 0 0 25.025-97.34l-23.273 23.274a23.652 23.652 0 0 1 -33.451 0 23.653 23.653 0 0 1 -1.449-31.868 62.507 62.507 0 0 0 7.889-67.971l-37.716-75.435-5.8 63.8a57.053 57.053 0 0 1 -21.173 39.382l-32.973 26.379a74.736 74.736 0 0 0 -28.049 58.36v9.079a74.74 74.74 0 0 0 26.891 57.415 74.741 74.741 0 0 0 48.584 17.319l23.118-.229a74.734 74.734 0 0 0 52.306-22.094z" fill="#ea9d2d"/><path d="m120 192a8 8 0 0 1 -8-8v-16a8 8 0 0 1 16 0v16a8 8 0 0 1 -8 8z" fill="#ff6268"/><path d="m144 152a8 8 0 0 1 -8-8v-16a8 8 0 0 1 16 0v16a8 8 0 0 1 -8 8z" fill="#e82f3e"/><path d="m112 120a8 8 0 0 1 -8-8v-16a8 8 0 0 1 16 0v16a8 8 0 0 1 -8 8z" fill="#961b20"/><path d="m392 216a8 8 0 0 1 -8-8v-16a8 8 0 0 1 16 0v16a8 8 0 0 1 -8 8z" fill="#e82f3e"/><path d="m368 160a8 8 0 0 1 -8-8v-16a8 8 0 0 1 16 0v16a8 8 0 0 1 -8 8z" fill="#ff6268"/><path d="m400 136a8 8 0 0 1 -8-8v-24a8 8 0 0 1 16 0v24a8 8 0 0 1 -8 8z" fill="#e82f3e"/></g></svg>HOT</h4>
				<div class="card ml-5 mr-5" th:if="${cateGory} == 0 " style="border:1px solid #7571f9;">
					<div class="card-body">
	                     <div class="bootstrap-carousel">
	                         <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
	                             <div class="carousel-inner">
	                                 <div class="carousel-item active" th:each="free : ${highLankFree}" style="cursor:pointer;" th:onclick="|javascript:freeDetail('${free.free_brd_seq}')|">
	                                 		<b class="card-text pb-4" th:if="${free.free_cat} == 1 ">자유</b>
	                                     	<h5 class="card-text mt-3 mb-5 txt_post" th:text="${free.free_brd_title}">
	                                     		
	                                     	</h5>
											<!-- 해당 글쓴 시간-->
											<p class="card-text">
												<i class="icon-clock"></i>&nbsp;&nbsp;<span th:text="${free.free_brd_date}"></span>
											</p>
											<!-- 해당글 조회수 , 댓글수 부분 -->
											<p class="card-text">
												<i class="icon-eye" th:text="${free.free_brd_hits}"></i>
												&nbsp;&nbsp;
												<i class="icon-bubble" th:text="${free.brd_cmt_count}"></i>&nbsp;&nbsp;
											</p>
	                                 </div>
	                                 <div class="carousel-item" th:each="qna : ${highLankQna}" style="cursor:pointer;" th:onclick="|javascript:freeDetail('${qna.free_brd_seq}')|">
	                                 	 <b class="card-text pb-4" th:if="${qna.free_cat} == 2 ">질문</b>
	                                     <h5 class="card-text mt-3 mb-5 txt_post" th:text="${qna.free_brd_title}"></h5>
											<!-- 해당 글쓴 시간-->
											<p class="card-text">
												<i class="icon-clock"></i>&nbsp;&nbsp;<span th:text="${qna.free_brd_date}"></span>
											</p>
											<!-- 해당글 조회수 , 댓글수 부분 -->
											<p class="card-text">
												<i class="icon-eye" th:text="${qna.free_brd_hits}"></i>
												&nbsp;&nbsp;
												<i class="icon-bubble" th:text="${qna.brd_cmt_count}"></i>&nbsp;&nbsp;
											</p>
	                                 </div>
	                                 <div class="carousel-item" th:each="tip : ${highLankTip}" style="cursor:pointer;" th:onclick="|javascript:freeDetail('${tip.free_brd_seq}')|">
	                                 	<b class="card-text" th:if="${tip.free_cat} == 3 ">팁</b>
	                                     <h5 class="card-text mt-3 mb-5 txt_post">&nbsp;&nbsp;<span th:text="${tip.free_brd_title}"></span></h5>
											<!-- 해당 글쓴 시간-->
											<p class="card-text">
												<i class="icon-clock"></i>&nbsp;&nbsp;<span th:text="${tip.free_brd_date}"></span>
											</p>
											<!-- 해당글 조회수 , 댓글수 부분 -->
											<p class="card-text">
												<i class="icon-eye" th:text="${tip.free_brd_hits}"></i>
												&nbsp;&nbsp;
												<i class="icon-bubble" th:text="${tip.brd_cmt_count}"></i>&nbsp;&nbsp;
											</p>
	                                 </div>
	                             </div>
	                  <a class="carousel-control-prev" href="#carouselExampleIndicators" data-slide="prev" style="margin-left:12%;">
			          	<span class="carousel-control-prev-icon" ></span> 
			          	<span class="sr-only">Previous</span> 
 	                  </a>
	                  <a class="carousel-control-next" href="#carouselExampleIndicators" data-slide="next" style="margin-right:12%;">
			            <span class="carousel-control-next-icon" ></span> 
			            <span class="sr-only">Next</span>
	                  </a>
	                         </div>
	                     </div>
	                 </div>                 
	             </div>
	              <!--carousel로 자유,팁,궁금 별로 조회수가 가장많고 최신글인 번호를 보여줌 END -->
	              
	            <!--carousel로 자유 게시판만 보여줌  -->
				<div class="card ml-5 mr-5" th:if="${cateGory} == 1 " style="border:1px solid #7571f9;">
					<div class="card-body" style="">
	                     <h4 class="card-title">HOT 자유 게시물</h4>
	                     <div class="bootstrap-carousel">
	                         <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
	                           
	                             <div class="carousel-inner">
	                                  <div class="carousel-item active" th:each="free : ${highLankFree}" style="cursor:pointer;" th:onclick="|javascript:freeDetail('${free.free_brd_seq}')|">
	                                 		<b class="card-text" th:if="${free.free_cat} == 1 ">자유</b>
	                                     	<h5 class="card-text mt-3 txt_post" th:text="${free.free_brd_title}"></h5>
											<!-- 해당 글쓴 시간-->
											<p class="card-text">
												<i class="icon-clock"></i>&nbsp;&nbsp;<span th:text="${free.free_brd_date}"></span>
											</p>
											<!-- 해당글 조회수 , 댓글수 부분 -->
											<p class="card-text">
												<i class="icon-eye" th:text="${free.free_brd_hits}"></i>
												&nbsp;&nbsp;
												<i class="icon-bubble" th:text="${free.brd_cmt_count}"></i>
											</p>
	                                 </div>                          
	                             </div>
	                         </div>
	                     </div>
	                 </div>                 
	             </div>
	
				 <!--carousel로 질문 게시판만 보여줌  -->
				<div class="card ml-5 mr-5" th:if="${cateGory} == 2 " style="border:1px solid #7571f9;">
					<div class="card-body" style="">
	                     <h4 class="card-title">HOT 질문 게시물</h4>
	                     <div class="bootstrap-carousel">
	                         <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
	                           
	                             <div class="carousel-inner">
	                                 
	                                 <div class="carousel-item active" th:each="qna : ${highLankQna}" style="cursor:pointer;" th:onclick="|javascript:freeDetail('${qna.free_brd_seq}')|">
	                                 	 <b class="card-text" th:if="${qna.free_cat} == 2 ">질문</b>
	                                     <h5 class="card-text mt-3 mb-5 txt_post" th:text="${qna.free_brd_title}"></h5>
											<!-- 해당 글쓴 시간-->
											<p class="card-text">
												<i class="icon-clock" th:text="${qna.free_brd_date}"></i>
											</p>
											<!-- 해당글 조회수 , 댓글수 부분 -->
											<p class="card-text">
												<i class="icon-eye" th:text="${qna.free_brd_hits}"></i>
												&nbsp;&nbsp;
												<i class="icon-bubble" th:text="${qna.brd_cmt_count}"></i>
											</p>
	                                 </div>                          
	                             </div>
	                         </div>
	                     </div>
	                 </div>                 
	             </div>
	             
	              <!--carousel로 팁 게시판만 보여줌  -->
				<div class="card ml-5 mr-5" th:if="${cateGory} == 3 "style="border:1px solid #7571f9;">
					<div class="card-body" style="">
	                     <h4 class="card-title">HOT 팁 게시물</h4>
	                     <div class="bootstrap-carousel">
	                         <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
	                           
	                             <div class="carousel-inner">
	                                 
	                                  <div class="carousel-item active" th:each="tip : ${highLankTip}" style="cursor:pointer;" th:onclick="|javascript:freeDetail('${tip.free_brd_seq}')|">
	                                 	<b class="card-text" th:if="${tip.free_cat} == 3 ">팁</b>
	                                     <h5 class="card-text mt-3 mb-5 txt_post" th:text="${tip.free_brd_title}"></h5>
											<!-- 해당 글쓴 시간-->
											<p class="card-text">
												<i class="icon-clock" th:text="${tip.free_brd_date}"></i>
												<span th:text="${tip.free_brd_date}"></span>
											</p>
											<!-- 해당글 조회수 , 댓글수 부분 -->
											<p class="card-text">
												<i class="icon-eye" th:text="${tip.free_brd_hits}"></i>
												&nbsp;&nbsp;
												<i class="icon-bubble" th:text="${tip.brd_cmt_count}"></i>
											</p>
	                                 </div>                              
	                             </div>
	                         </div>
	                     </div>
	                 </div>                 
	             </div>
				
				<div class="ml-4 mr-4">
					<div class="card-body">
						<hr>
						<!-- 글쓰기 버튼(로그인한 사람만 글을 쓸수 있음) -->
						<button type="button" onclick="location.href='freeBrdForm'" 
							class="btn btn-lg w-100 mt-3 mb-4 btn-primary" th:if="${user != null && user != ''}">
							글쓰기&nbsp;&nbsp;&nbsp;<span><i class="icon-note"></i></span>
						</button>
						<!-- 게시글 순서 드롭다운 -->
						<div class="row">
							<div class="col-10"></div>
							<div class="col-2 pl-5">
						
								<!-- 페이징 사이즈 드롭다운 -->
								<div class="dropdown custom-dropdown">
										<button type="button" class="btn btn-sm btn-outline-primary"
										data-toggle="dropdown">
										<span th:text="${pagination.pageSize} + 개씩"></span><i class="fa fa-angle-down m-l-5"></i>
									</button>
									
									<div th:if="${cateGory} == 0" class="dropdown-menu dropdown-menu-right">
										<a class="dropdown-item" href="freeBrdList?page=1&pageSize=5">5개씩</a>
										<a class="dropdown-item" href="freeBrdList?page=1&pageSize=10">10개씩</a> <a
											class="dropdown-item" href="freeBrdList?page=1&pageSize=15">15개씩</a> <a
											class="dropdown-item" href="freeBrdList?page=1&pageSize=20">20개씩</a>
									</div>
									
									<div th:if="${cateGory} == 1" class="dropdown-menu dropdown-menu-right">
										<a class="dropdown-item" href="freeBrdList?cateGory=1&page=1&pageSize=5">5개씩</a>
										<a class="dropdown-item" href="freeBrdList?cateGory=1&page=1&pageSize=10">10개씩</a> <a
											class="dropdown-item" href="freeBrdList?cateGory=1&page=1&pageSize=15">15개씩</a> <a
											class="dropdown-item" href="freeBrdList?cateGory=1&page=1&pageSize=20">20개씩</a>
									</div>
									
									<div th:if="${cateGory} == 2" class="dropdown-menu dropdown-menu-right">
										<a class="dropdown-item" href="freeBrdList?cateGory=2&page=1&pageSize=5">5개씩</a>
										<a class="dropdown-item" href="freeBrdList?cateGory=2&page=1&pageSize=10">10개씩</a> <a
											class="dropdown-item" href="freeBrdList?cateGory=2&page=1&pageSize=15">15개씩</a> <a
											class="dropdown-item" href="freeBrdList?cateGory=2&page=1&pageSize=20">20개씩</a>
									</div>
									
									<div th:if="${cateGory} == 3" class="dropdown-menu dropdown-menu-right">
										<a class="dropdown-item" href="freeBrdList?cateGory=3&page=1&pageSize=5">5개씩</a>
										<a class="dropdown-item" href="freeBrdList?cateGory=3&page=1&pageSize=10">10개씩</a> <a
											class="dropdown-item" href="freeBrdList?cateGory=3&page=1&pageSize=15">15개씩</a> <a
											class="dropdown-item" href="freeBrdList?cateGory=3&page=1&pageSize=20">20개씩</a>
									</div>
									
									
									
								</div>
							</div>
						</div>
						<!-- 게시글 순서 드롭다운 END-->
						
						
						
							<!-- 전체 게시판 내용 -->
							<div class="p-t-15" th:if="${cateGory} == 0 "> 

								<!-- <h1 th:text="${cateGory}"></h1> -->
									<div class="card" th:each="list : ${freeBrdList}" >
						
									
									<!-- 얘가 기준 (다른 게시글도 이거랑 동일하게) --> 
										<div class="row card-body">
											<div class="col-8">
												<!-- 카테고리 부분(자유-1,질문-2,팁-3) -->
												<span class="card-text text-primary" th:if="${list.free_cat} == 1 ">자유</span>
												<span class="card-text text-primary" th:if="${list.free_cat} == 2 ">질문</span>	
												<span class="card-text text-primary" th:if="${list.free_cat} == 3 ">팁</span>
												<!-- 글제목 부분 -->
												<h5 class="card-title mt-3 mb-5 txt_post">
													<a th:href="@{/freeBrdDetail(seq=${list.free_brd_seq})}" th:text="${list.free_brd_title}"></a>
												</h5>
												<!-- 해당 글쓴 시간-->
												<p class="card-text">
													<i class="icon-clock"></i>&nbsp;&nbsp;<span th:text="${list.free_brd_date}"></span>
												</p>
												<!-- 해당글 조회수 , 댓글수 부분 -->
												<p class="card-text">
													<i class="icon-eye" th:text="${list.free_brd_hits}"></i>
													&nbsp;&nbsp;
													<i id="allCmt" class="icon-bubble" th:text="${list.brd_cmt_count}">&nbsp;&nbsp;</i>
												</p>
											
											</div>
											
								
											
											<!-- 해당글의 이미지가 없는경우  -->
											<div class="col-3" th:if="${list.free_brd_image == null || list.free_brd_image == ''}">	
												<!-- root경로 webapp 부터 시작(생략) -->
												 <div style="width:200px;height:150px;"  ></div>																															
											</div>																																									
											
											
											<div class="col mt-0 pt-0">
												<div class="mr-3">
													<ul>
														<li class="icons dropdown">
															<div class="user-img c-pointer position-relative"
																data-toggle="dropdown">
																<span class="activity active"></span> <i
																	class="icon-options-vertical"></i>
															</div>
															<div class="basic-dropdown">

																<!-- 삭제는 해당글을 쓴사람만 지울수(볼수) 있고 신고는 해당글을쓴사람 해당글쓴이가 아닌사람도 볼수있다 -->
																<div class="dropdown-menu" th:if="${list.user_email == user}">
																	<a class="dropdown-item" th:onclick="freeBrdDelete([[${list.free_brd_seq}]],[[${list.brd_cmt_count}]])" >삭제</a> 
																	<a	class="dropdown-item" href="#">신고</a> 
																	<!-- 글번호 숨기기 -->
																	<input type="hidden" id="allSeq" th:value="${list.free_brd_seq}"/>
																</div>
																
																<div class="dropdown-menu" th:if="${list.user_email != user}"> 
																	<a	class="dropdown-item" href="#">신고</a> 
																</div>

															</div>
														</li>
													</ul>
												</div>
											</div>
										</div>

									</div>
									<!-- 얘가 기준 --> 

								<!-- 페이지 -->
								<th:block th:if="${pagination.totalListCnt != 0}">
									<div class="bootstrap-pagination">
										<nav>
											<ul class="pagination justify-content-center">
												<li class="page-item" th:if="${pagination.block != 1}">
											      <a class="page-link" th:href="@{freeBrdList(page=1,searchType=${search.searchType},keyword=${search.keyword},pageSize=${search.pageSize})}" aria-label="Previous">
											        <span aria-hidden="true">처음</span>
											      </a>
											    </li>
											    <li class="page-item" th:if="${pagination.block != 1}">
											      <a class="page-link" th:href="@{freeBrdList(page=${pagination.prevBlock},searchType=${search.searchType},keyword=${search.keyword}),pageSize=${search.pageSize}}" aria-label="Previous">
											        <span aria-hidden="true">이전</span>
											      </a>
											    </li>
											    <th:block  th:with="start = ${pagination.startPage}, end = ${pagination.endPage}">										    	    	
												    <li class="page-item" th:each="pageButton : ${#numbers.sequence(start, end)}">  	
													    <th:block th:if="${pageButton == pagination.page}">
												    		<a class="page-link" th:href="@{freeBrdList(page=${pageButton},searchType=${search.searchType},keyword=${search.keyword},pageSize=${search.pageSize})}" th:text=${pageButton} style="background-color:#b3cbe5;"></a>								   													    		
												    	</th:block>
												    	<th:block th:if="${pageButton != pagination.page}">
												    		<a class="page-link" th:href="@{freeBrdList(page=${pageButton},searchType=${search.searchType},keyword=${search.keyword},pageSize=${search.pageSize})}" th:text=${pageButton} ></a>											    		
												    	</th:block>				  	
												    </li>										    
											    </th:block>
											    <li class="page-item" th:if="${pagination.block != pagination.totalBlockCnt}"> 
											      <a class="page-link" th:href="@{freeBrdList(page=${pagination.nextBlock},searchType=${search.searchType},keyword=${search.keyword},pageSize=${search.pageSize})}" aria-label="Next">
											        <span aria-hidden="true">다음</span>
											      </a>
											    </li>
											    <li class="page-item" th:if="${pagination.block != pagination.totalBlockCnt}">
											      <a class="page-link"  th:href="@{freeBrdList(page=${pagination.totalPageCnt},searchType=${search.searchType},keyword=${search.keyword},pageSize=${search.pageSize})}" aria-label="Previous">
											        <span aria-hidden="true">끝</span>
											      </a>
											    </li>
											</ul>
										</nav>
									</div> 
								<th:block/>
								<!-- 페이지 처리 END -->
								
				
								
								<!-- 검색 페이지 -->
								<div class="row">
									<div class="col"></div>
									<div class="basic-form col-7 center">
										<form class="form-inline">
											<!-- 검색 조건 -->
											
												<div style="padding-right:10px">

													<select class="form-control form-control-sm" name="searchType" id="searchType" style="margin-bottom: 10px;">
									
														<option value="title">제목</option>
									
														<option value="content">내용</option>
									
														<option value="nickName">닉네임</option>
									
													</select>
									
												</div>
											<!-- 검색어 입력 인풋 -->
											<div class="form-group mx-sm-3 mb-2">
												<input type="text" class="form-control input-default" name="keyword" id="keyword" placeholder="검색어를 입력해주세요" style="height:34px;">
											</div>
											<div>
												<button type="submit" name="btnSearch" id="btnSearch" class="btn btn-primary mb-2" onclick="button1_click();" value="${pagination.keyword}">검색</button>
											</div>
										</form>
									</div>
									<div class="col-2"></div>
								</div>
								<!-- 검색 페이지  END  -->	
							</div>
							<!-- 전체 게시판 내용 END-->	
						


							<!-- 자유게시판 -->
								
								<div class="p-t-15" th:if="${cateGory} == 1 "> 
									
									<!-- <h1 th:text="${cateGory}"></h1> -->
									<div class="card" th:each="list : ${freeBrdList}" >
						
									
									<!-- 얘가 기준 (다른 게시글도 이거랑 동일하게) --> 
										<div class="row card-body">
											<div class="col-8">
												<!-- 카테고리 부분(자유-1,질문-2,팁-3) -->
												<span class="card-text text-primary" th:if="${list.free_cat} == 1 ">자유</span>
												<span class="card-text text-primary" th:if="${list.free_cat} == 2 ">질문</span>	
												<span class="card-text text-primary" th:if="${list.free_cat} == 3 ">팁</span>
												<!-- 글제목 부분 -->
												<h5 class="card-title mt-3 mb-5" >
													<a th:href="@{/freeBrdDetail(seq=${list.free_brd_seq})}" th:text="${list.free_brd_title}"></a>
												</h5>
												<!-- 해당 글쓴 시간-->
												<p class="card-text">
													<i class="icon-clock" th:text="${list.free_brd_date}"></i>
												</p>
												<!-- 해당글 조회수 , 댓글수 부분 -->
												<p class="card-text">
													<i class="icon-eye" th:text="${list.free_brd_hits}"></i>
													&nbsp;&nbsp;
													<i class="icon-bubble" th:text="${list.brd_cmt_count}"></i>
												</p>
											
											</div>
											
											<!-- 해당글의 이미지가 있는경우  -->
											<div class="col-3" th:if="${list.free_brd_image != null && list.free_brd_image != ''}">	
												<!-- root경로 webapp 부터 시작(생략) -->
												 <img class="img-fluid" th:src="@{/assets/upload/freeBrdUpload/}+${list.free_brd_image}" style="width:200px;height:150px;"  />																															
											</div>
											
											<!-- 해당글의 이미지가 없는경우  -->
											<div class="col-3" th:if="${list.free_brd_image == null || list.free_brd_image == ''}">	
												<!-- root경로 webapp 부터 시작(생략) -->
												 <div style="width:200px;height:150px;"  ></div>																															
											</div>																																									
											
											
											<div class="col mt-0 pt-0">
												<div class="mr-3">
													<ul>
														<li class="icons dropdown">
															<div class="user-img c-pointer position-relative"
																data-toggle="dropdown">
																<span class="activity active"></span> <i
																	class="icon-options-vertical"></i>
															</div>
															<div class="basic-dropdown">


																<div class="dropdown-menu">
																	<a class="dropdown-item" th:onclick="freeBrdDelete([[${list.free_brd_seq}]],[[${list.brd_cmt_count}]])">삭제</a> 
																	<a	class="dropdown-item" href="#">신고</a> 
																</div>

															</div>
														</li>
													</ul>
												</div>
											</div>
										</div>

									</div>
									<!-- 얘가 기준 --> 

								<!-- 페이지 -->
								<th:block th:if="${pagination.totalListCnt != 0}">
									<div class="bootstrap-pagination">
										<nav>
											<ul class="pagination justify-content-center">
												<li class="page-item" th:if="${pagination.block != 1}">
											      <a class="page-link" th:href="@{freeBrdList(cateGory=1,page=1,searchType=${search.searchType},keyword=${search.keyword},pageSize=${search.pageSize})}" aria-label="Previous">
											        <span aria-hidden="true">처음</span>
											      </a>
											    </li>
											    <li class="page-item" th:if="${pagination.block != 1}">
											      <a class="page-link" th:href="@{freeBrdList(cateGory=1,page=${pagination.prevBlock},searchType=${search.searchType},keyword=${search.keyword},pageSize=${search.pageSize})}" aria-label="Previous">
											        <span aria-hidden="true">이전</span>
											      </a>
											    </li>
											    <th:block  th:with="start = ${pagination.startPage}, end = ${pagination.endPage}">										    	    	
												    <li class="page-item" th:each="pageButton : ${#numbers.sequence(start, end)}">  	
													    <th:block th:if="${pageButton == pagination.page}">
												    		<a class="page-link" th:href="@{freeBrdList(cateGory=1,page=${pageButton},searchType=${search.searchType},keyword=${search.keyword},pageSize=${search.pageSize})}" th:text=${pageButton} style="background-color:#b3cbe5;"></a>								   													    		
												    	</th:block>
												    	<th:block th:if="${pageButton != pagination.page}">
												    		<a class="page-link" th:href="@{freeBrdList(cateGory=1,page=${pageButton},searchType=${search.searchType},keyword=${search.keyword},pageSize=${search.pageSize})}" th:text=${pageButton} ></a>											    		
												    	</th:block>				  	
												    </li>										    
											    </th:block>
											    <li class="page-item" th:if="${pagination.block != pagination.totalBlockCnt}"> 
											      <a class="page-link" th:href="@{freeBrdList(cateGory=1,page=${pagination.nextBlock},searchType=${search.searchType},keyword=${search.keyword},pageSize=${search.pageSize})}" aria-label="Next">
											        <span aria-hidden="true">다음</span>
											      </a>
											    </li>
											    <li class="page-item" th:if="${pagination.block != pagination.totalBlockCnt}">
											      <a class="page-link"  th:href="@{freeBrdList(cateGory=1,page=${pagination.totalPageCnt},searchType=${search.searchType},keyword=${search.keyword},pageSize=${search.pageSize})}" aria-label="Previous">
											        <span aria-hidden="true">끝</span>
											      </a>
											    </li>
											</ul>
										</nav>
									</div> 
								<th:block/>
								<!-- 페이지 처리 END -->
								
	
								
								<!-- 검색 페이지 -->
								<div class="row">
									<div class="col"></div>
									<div class="basic-form col-7 center">
										<form class="form-inline">
											<!-- 검색 조건 -->
											
												<div style="padding-right:10px">

													<select class="form-control form-control-sm" name="searchType" id="searchType" style="margin-bottom: 10px;">
									
														<option value="title">제목</option>
									
														<option value="content">내용</option>
									
														<option value="nickName">닉네임</option>
									
													</select>
									
												</div>
											<!-- 검색어 입력 인풋 -->
											<div class="form-group mx-sm-3 mb-2">
												<input type="text" class="form-control input-default" name="keyword" id="keyword" placeholder="검색어를 입력해주세요" style="height:34px;">
											</div>
											<div>
												<button type="submit" name="btnFreeSearch" id="btnFreeSearch" class="btn btn-primary mb-2" onclick="buttonFree_click();" value="${pagination.keyword}">검색</button>
											</div>
										</form>
									</div>
									<div class="col-2"></div>
								</div>
								<!-- 검색 페이지  END  -->	
							</div>
							<!-- 자유 게시판 내용 END-->	
				
							<!-- 질문게시판 -->
								<div class="p-t-15" th:if="${cateGory} == 2 "> 

							
									<div class="card" th:each="list : ${freeBrdList}" >
						
									
									<!-- 얘가 기준 (다른 게시글도 이거랑 동일하게) --> 
										<div class="row card-body">
											<div class="col-8">
												<!-- 카테고리 부분(자유-1,질문-2,팁-3) -->				
												<span class="card-text text-primary">질문</span>	
												<!-- 글제목 부분 -->
												<h5 class="card-title mt-3">
													<a th:href="@{/freeBrdDetail(seq=${list.free_brd_seq})}" th:text="${list.free_brd_title}"></a>
												</h5>
												<!-- 해당 글쓴 시간-->
												<p class="card-text">
													<i class="icon-clock" th:text="${list.free_brd_date}"></i>
												</p>
												<!-- 해당글 조회수 , 댓글수 부분 -->
												<p class="card-text">
													<i class="icon-eye" th:text="${list.free_brd_hits}"></i>
													&nbsp;&nbsp;
													<i class="icon-bubble" th:text="${list.brd_cmt_count}"></i>
												</p>
											
											</div>
											
											<!-- 해당글의 이미지가 있는경우  -->
											<div class="col-3" th:if="${list.free_brd_image != null && list.free_brd_image != ''}">	
												<!-- root경로 webapp 부터 시작(생략) -->
												 <img class="img-fluid" th:src="@{/assets/upload/freeBrdUpload/}+${list.free_brd_image}" style="width:200px;height:150px;"  />																															
											</div>
											
											<!-- 해당글의 이미지가 없는경우  -->
											<div class="col-3" th:if="${list.free_brd_image == null || list.free_brd_image == ''}">	
												<!-- root경로 webapp 부터 시작(생략) -->
												 <div style="width:200px;height:150px;"  ></div>																															
											</div>																																									
											
											
											<div class="col mt-0 pt-0">
												<div class="mr-3">
													<ul>
														<li class="icons dropdown">
															<div class="user-img c-pointer position-relative"
																data-toggle="dropdown">
																<span class="activity active"></span> <i
																	class="icon-options-vertical"></i>
															</div>
															<div class="basic-dropdown">


																<div class="dropdown-menu">
																	<a class="dropdown-item" th:onclick="freeBrdDelete([[${list.free_brd_seq}]],[[${list.brd_cmt_count}]])">삭제</a> 
																	<a	class="dropdown-item" href="#">신고</a> 
																</div>

															</div>
														</li>
													</ul>
												</div>
											</div>
										</div>

									</div>
									<!-- 얘가 기준 --> 

								<!-- 페이지 -->
								<th:block th:if="${pagination.totalListCnt != 0}">
									<div class="bootstrap-pagination">
										<nav>
											<ul class="pagination justify-content-center">
												<li class="page-item" th:if="${pagination.block != 1}">
											      <a class="page-link" th:href="@{freeBrdList(cateGory=2,page=1,searchType=${search.searchType},keyword=${search.keyword},pageSize=${search.pageSize})}" aria-label="Previous">
											        <span aria-hidden="true">처음</span>
											      </a>
											    </li>
											    <li class="page-item" th:if="${pagination.block != 1}">
											      <a class="page-link" th:href="@{freeBrdList(cateGory=2,page=${pagination.prevBlock},searchType=${search.searchType},keyword=${search.keyword},pageSize=${search.pageSize})}" aria-label="Previous">
											        <span aria-hidden="true">이전</span>
											      </a>
											    </li>
											    <th:block  th:with="start = ${pagination.startPage}, end = ${pagination.endPage}">										    	    	
												    <li class="page-item" th:each="pageButton : ${#numbers.sequence(start, end)}">  	
													    <th:block th:if="${pageButton == pagination.page}">
												    		<a class="page-link" th:href="@{freeBrdList(cateGory=2,page=${pageButton},searchType=${search.searchType},keyword=${search.keyword},pageSize=${search.pageSize})}" th:text=${pageButton} style="background-color:#b3cbe5;"></a>								   													    		
												    	</th:block>
												    	<th:block th:if="${pageButton != pagination.page}">
												    		<a class="page-link" th:href="@{freeBrdList(cateGory=2,page=${pageButton},searchType=${search.searchType},keyword=${search.keyword},pageSize=${search.pageSize})}" th:text=${pageButton} ></a>											    		
												    	</th:block>				  	
												    </li>										    
											    </th:block>
											    <li class="page-item" th:if="${pagination.block != pagination.totalBlockCnt}"> 
											      <a class="page-link" th:href="@{freeBrdList(cateGory=2,page=${pagination.nextBlock},searchType=${search.searchType},keyword=${search.keyword},pageSize=${search.pageSize})}" aria-label="Next">
											        <span aria-hidden="true">다음</span>
											      </a>
											    </li>
											    <li class="page-item" th:if="${pagination.block != pagination.totalBlockCnt}">
											      <a class="page-link"  th:href="@{freeBrdList(cateGory=2,page=${pagination.totalPageCnt},searchType=${search.searchType},keyword=${search.keyword},pageSize=${search.pageSize})}" aria-label="Previous">
											        <span aria-hidden="true">끝</span>
											      </a>
											    </li>
											</ul>
										</nav>
									</div> 
								<th:block/>
								<!-- 페이지 처리 END -->
			
								
								<!-- 검색 페이지 -->
								<div class="row">
									<div class="col"></div>
									<div class="basic-form col-7 center">
										<form class="form-inline">
											<!-- 검색 조건 -->
											
												<div style="padding-right:10px">

													<select class="form-control form-control-sm" name="searchType" id="searchType" style="margin-bottom: 10px;">
									
														<option value="title">제목</option>
									
														<option value="content">내용</option>
									
														<option value="nickName">닉네임</option>
									
													</select>
									
												</div>
											<!-- 검색어 입력 인풋 -->
											<div class="form-group mx-sm-3 mb-2">
												<input type="text" class="form-control input-default" name="keyword" id="keyword" placeholder="검색어를 입력해주세요" style="height:34px;">
											</div>
											<div>
												<button type="submit" name="btnQnaSearch" id="btnQnaSearch" class="btn btn-primary mb-2" onclick="buttonQna_click();" value="${pagination.keyword}">검색</button>
											</div>
										</form>
									</div>
									<div class="col-2"></div>
								</div>
								<!-- 검색 페이지  END  -->	
							</div>
							<!-- 질문 게시판 내용 END-->	
							
							<!-- 팁 게시판 -->
								<div class="p-t-15" th:if="${cateGory} == 3 "> 

						
									<div class="card" th:each="list : ${freeBrdList}" >
						
									
									<!-- 얘가 기준 (다른 게시글도 이거랑 동일하게) --> 
										<div class="row card-body">
											<div class="col-8">
												<!-- 카테고리 부분(자유-1,질문-2,팁-3) -->				
												<span class="card-text text-primary">팁</span>	
												<!-- 글제목 부분 -->
												<h5 class="card-title mt-3">
													<a th:href="@{/freeBrdDetail(seq=${list.free_brd_seq})}" th:text="${list.free_brd_title}"></a>
												</h5>
												<!-- 해당 글쓴 시간-->
												<p class="card-text">
													<i class="icon-clock" th:text="${list.free_brd_date}"></i>
												</p>
												<!-- 해당글 조회수 , 댓글수 부분 -->
												<p class="card-text">
													<i class="icon-eye" th:text="${list.free_brd_hits}"></i>
													&nbsp;&nbsp;
													<i class="icon-bubble" th:text="${list.brd_cmt_count}"></i>
												</p>
											
											</div>
											
											<!-- 해당글의 이미지가 있는경우  -->
											<div class="col-3" th:if="${list.free_brd_image != null && list.free_brd_image != ''}">	
												<!-- root경로 webapp 부터 시작(생략) -->
												 <img class="img-fluid" th:src="@{/assets/upload/freeBrdUpload/}+${list.free_brd_image}" style="width:200px;height:150px;"  />																															
											</div>
											
											<!-- 해당글의 이미지가 없는경우  -->
											<div class="col-3" th:if="${list.free_brd_image == null || list.free_brd_image == ''}">	
												<!-- root경로 webapp 부터 시작(생략) -->
												 <div style="width:200px;height:150px;"  ></div>																															
											</div>																																									
											
											
											<div class="col mt-0 pt-0">
												<div class="mr-3">
													<ul>
														<li class="icons dropdown">
															<div class="user-img c-pointer position-relative"
																data-toggle="dropdown">
																<span class="activity active"></span> <i
																	class="icon-options-vertical"></i>
															</div>
															<div class="basic-dropdown">


																<div class="dropdown-menu">
																	<a class="dropdown-item" th:onclick="freeBrdDelete([[${list.free_brd_seq}]],[[${list.brd_cmt_count}]])">삭제</a> 
																	<a	class="dropdown-item" href="#">신고</a> 
																</div>

															</div>
														</li>
													</ul>
												</div>
											</div>
										</div>

									</div>
									<!-- 얘가 기준 --> 

								<!-- 페이지 -->
								<th:block th:if="${pagination.totalListCnt != 0}">
									<div class="bootstrap-pagination">
										<nav>
											<ul class="pagination justify-content-center">
												<li class="page-item" th:if="${pagination.block != 1}">
											      <a class="page-link" th:href="@{freeBrdList(cateGory=3,page=1,searchType=${search.searchType},keyword=${search.keyword},pageSize=${search.pageSize})}" aria-label="Previous">
											        <span aria-hidden="true">처음</span>
											      </a>
											    </li>
											    <li class="page-item" th:if="${pagination.block != 1}">
											      <a class="page-link" th:href="@{freeBrdList(cateGory=3,page=${pagination.prevBlock},searchType=${search.searchType},keyword=${search.keyword},pageSize=${search.pageSize})}" aria-label="Previous">
											        <span aria-hidden="true">이전</span>
											      </a>
											    </li>
											    <th:block  th:with="start = ${pagination.startPage}, end = ${pagination.endPage}">										    	    	
												    <li class="page-item" th:each="pageButton : ${#numbers.sequence(start, end)}">  	
													    <th:block th:if="${pageButton == pagination.page}">
												    		<a class="page-link" th:href="@{freeBrdList(cateGory=3,page=${pageButton},searchType=${search.searchType},keyword=${search.keyword},pageSize=${search.pageSize})}" th:text=${pageButton} style="background-color:#b3cbe5;"></a>								   													    		
												    	</th:block>
												    	<th:block th:if="${pageButton != pagination.page}">
												    		<a class="page-link" th:href="@{freeBrdList(cateGory=3,page=${pageButton},searchType=${search.searchType},keyword=${search.keyword},pageSize=${search.pageSize})}" th:text=${pageButton} ></a>											    		
												    	</th:block>				  	
												    </li>										    
											    </th:block>
											    <li class="page-item" th:if="${pagination.block != pagination.totalBlockCnt}"> 
											      <a class="page-link" th:href="@{freeBrdList(cateGory=3,page=${pagination.nextBlock},searchType=${search.searchType},keyword=${search.keyword},pageSize=${search.pageSize})}" aria-label="Next">
											        <span aria-hidden="true">다음</span>
											      </a>
											    </li>
											    <li class="page-item" th:if="${pagination.block != pagination.totalBlockCnt}">
											      <a class="page-link"  th:href="@{freeBrdList(cateGory=3,page=${pagination.totalPageCnt},searchType=${search.searchType},keyword=${search.keyword},pageSize=${search.pageSize})}" aria-label="Previous">
											        <span aria-hidden="true">끝</span>
											      </a>
											    </li>
											</ul>
										</nav>
									</div> 
								<th:block/>
								<!-- 페이지 처리 END -->
		
								
								<!-- 검색 페이지 -->
								<div class="row">
									<div class="col"></div>
									<div class="basic-form col-7 center">
										<form class="form-inline">
											<!-- 검색 조건 -->
											
												<div style="padding-right:10px">

													<select class="form-control form-control-sm" name="searchType" id="searchType" style="margin-bottom: 10px;">
									
														<option value="title">제목</option>
									
														<option value="content">내용</option>
									
														<option value="nickName">닉네임</option>
									
													</select>
									
												</div>
											<!-- 검색어 입력 인풋 -->
											<div class="form-group mx-sm-3 mb-2">
												<input type="text" class="form-control input-default" name="keyword" id="keyword" placeholder="검색어를 입력해주세요" style="height:34px;">
											</div>
											<div>
												<button type="submit" name="btnTipSearch" id="btnTipSearch" class="btn btn-primary mb-2" onclick="buttonTip_click();" value="${pagination.keyword}">검색</button>
											</div>
										</form>
									</div>
									<div class="col-2"></div>
								</div>
								<!-- 검색 페이지  END  -->	
							</div>
							<!-- 팁 게시판 내용 END-->	
						

								
							</div>
						</div>
						
						
					</div>
				</div>
				
				
			</div>
				<!--<div class="bodiary-wrapper"> END  -->


	<!-- 공통 스크립트-->
	<th:block th:replace="fragments/script :: scriptFragment"></th:block>
</body>
<script type="text/javascript">


	}); */
	/* 게시판 삭제시 호출 함수 */
	function freeBrdDelete(seq,cmt_cnt){
		
		//alert("글번호:"+seq+"댓글 개수"+cmt_cnt);
		if(cmt_cnt > 0){
			alert("댓글이 있는 게시물은 삭제 할 수 없습니다!");	
		}else{
			if (confirm("정말 이 게시글을 삭제하시겠습니까?") == true){
				location.href = "freeBrdDelete?seq="+seq;
			}
		} 
		
	}
</script>

<th:block layout:fragment="script">
    <script type="text/javascript">
	    /* function button1_click() {
	    	alert("버튼1을 누르셨습니다.");
	    } */
	    /**
		* @작성일 : 2020. 8. 14.
		* @작성자 : 오동률
		* @설명 : 입력한 데이터가 포함된 게시글을 찾는 함수
		* @param :file - 이미지 파일명
		* 		  e - 입력된 썸머노트 게시글
		**/
	    $(document).on('click', '#btnSearch', function(e){
			e.preventDefault();
	
			var url = "freeBrdList";
			url = url + "?searchType=" + $('#searchType').val();
			url = url + "&keyword=" + $('#keyword').val();
	
			location.href = url;
	
			console.log(url);
	
		});	 
	    /* 자유게시판용 검색 */
	    $(document).on('click', '#btnFreeSearch', function(e){
	
			e.preventDefault();
	
			var url = "freeBrdList";
			
			url = url + "?cateGory=" + 1;
			
			url = url + "&searchType=" + $('#searchType').val();
	
			url = url + "&keyword=" + $('#keyword').val();
	
			location.href = url;
	
			console.log(url);
	
		});	 
	    /* 질문게시판용 검색 */
	    $(document).on('click', '#btnQnaSearch', function(e){
	
			e.preventDefault();
	
			var url = "freeBrdList";
			
			url = url + "?cateGory=" + 2;
			
			url = url + "&searchType=" + $('#searchType').val();
	
			url = url + "&keyword=" + $('#keyword').val();
	
			location.href = url;
	
			console.log(url);
	
		});	 
	    /* 팁 게시판용 검색 */
	    $(document).on('click', '#btnTipSearch', function(e){
	
			e.preventDefault();
	
			var url = "freeBrdList";
			
			url = url + "?cateGory=" + 3;
			
			url = url + "&searchType=" + $('#searchType').val();
	
			url = url + "&keyword=" + $('#keyword').val();
	
			location.href = url;
	
			console.log(url);
	
		});	 
   		function freeDetail(seq) 
   			{ 
   				 /* alert(idx); 
   				 var pageNum = idx;  */
   				 location.href="freeBrdDetail?seq="+seq; 
   			} 
    </script>

 </th:block>
</html>