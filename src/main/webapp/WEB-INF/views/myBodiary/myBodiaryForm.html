<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<!-- 공통 헤더-->
<th:block th:replace="fragments/htmlhead :: headFragment"></th:block>



<body>
	<!-- 공통 nav -->
	<th:block th:replace="common/nav :: navFragment"></th:block>
	<div class="bodiary-wrapper">
		<!-- 공통 sidenav -->
		<div class="row mt-4">
			<nav class="col-3 ml-3 mr-0 sidenav">
				<aside id="sidebar" class="js-custom-scroll side-nav"
					th:replace="common/sidebar :: sidebarFragment"></aside>
			</nav>
			<!-- myBodiary 내 공통 목표 띠  -->
			<div class="col mr-5">
				<!-- 목표 인원수 + 목표 설정하기  -->
				<div class="card card-body pt-0 pb-0 pl-4">
					<div class="row">
						<div class="col pl-3 mt-3 mb-2">
							현재 <span class="text-info"> th:text사용해서 몇명인지 뿌려져야함</span> 명의 친구들이
							목표를 달성하고 있어요!
						</div>
						<!-- 이미 목표 진행중일경우 보이지 않도록 해야함 -->
						<div class="col-1 mt-2 mb-2">
							<button class="btn btn-primary btn-flat">
								<i class="mdi mdi-plus"></i>
							</button>
						</div>
					</div>
				</div>
				<!--  -->

				<div class="col-lg-12">
					<div class="card">
						<div class="d-flex justify-content-center">

							<div class="card-body">
								<div class="basic-form">
									<form action="myBodiaryForm" method="post" id="diaryForm">
										<div class="form-row">
											<div class="form-group col-md-4">
												<div class="card">

													<div class="form-group">
														<!-- 파일 선택 -->
												<!-- 		<div class="mt-3">
															<label class="btn btn-outline-light btn-file"><i
																class="icon-plus"></i> <input type="file" id="imgFile" name="files[0]" /></label>

														</div> -->
													</div>

												</div>
											</div>

											<div class="form-group col-md-4">
												<label>오늘의 몸무게</label> <input type="text" id="diary_today_weight" name="diary_today_weight"
												
													class="form-control input-default" placeholder="">
											</div>

											<div class="form-group col-md-4">
												<label>오늘의 컨디션</label> <select
													class="form-control input-default" id="diary_condition" name="diary_condition">
													<option>좋아요</option>
													<option>평범해요</option>
													<option>나빠요</option>
												</select>
											</div>

										</div>
										<div class="form-group mt-5">
											<label>오늘의 한마디</label>
											<textarea class="form-control input-default"
												placeholder="최대 150자" id="diary_content" name="diary_content"></textarea>
										</div>


										<div class="row mt-5">
											<div class="col-6">
												<div class="form-group">


													<label>오늘 먹은 음식</label>
													<div class="row">
														<div class="col-3">
															<select class="form-control input-default" id="meal" name="meal">
																<option selected="selected">아침</option>
																<option>점심</option>
																<option>저녁</option>
																<option>간식</option>
															</select>
														</div>
													</div>
													<div class="mt-3">
														<input type="search" class="form-control input-default"
															placeholder="Search" id="foodsearch" name="foodsearch">
														<div class="table-responsive" id="foodBox">
														
															

												
														</div>
													</div>
												</div>


											</div>
											<div class="col-6 pt-4">
												<div class="row mt-3">
													<div class="col">
														<h3>아침</h3>
														
													</div>
													
												</div>
												<hr>
												<div class="p-2">
													

														<div class="food-form outline-primary mt-1 p-1">
														
														<input type="hidden" name="dailyMealList[0].food_seq" value="1">
														<input type="hidden" name="dailyMealList[0].meal_seq" value="1">
														<input type="hidden" name="dailyMealList[1].food_seq" value="2">
														<input type="hidden" name="dailyMealList[1].meal_seq" value="1">
														
															<!-- <div class="row mb-3"
																>
																<div class="col pt-2">
																	<h5>샌드위치</h5>
																</div>


																<div class="col-2 center pt-2">
																	<a href="#"><i class="mdi mdi-minus"></i></a>
																</div>
															</div>

															<div class="row cart-item-card mb-3">
																<div class="col">
																	<h5>김치</h5>
																</div>
																<div class="col-2 center ">
																	<i class="mdi mdi-minus"></i>
																</div>
															</div>
															<div class="row cart-item-card mb-3">
																<div class="col">
																	<h5>김치</h5>
																</div>
																<div class="col-2 center ">
																	<i class="mdi mdi-minus"></i>
																</div>
															</div>
															<div class="row cart-item-card mb-3">
																<div class="col">
																	<h5>김치</h5>
																</div>
																<div class="col-2 center ">
																	<i class="mdi mdi-minus"></i>
																</div>
															</div> -->
														</div>
													
												</div>
												<div class="row mt-4">
													<div class="col">
														<h3>점심</h3>
														
													</div>
												
												</div>
												<hr>
												<div class="p-2">
													

														<div class="food-form outline-primary mt-1 p-1">
														<input type="hidden" name="dailyMealList[2].food_seq" value="3">
														<input type="hidden" name="dailyMealList[2].meal_seq" value="2">
														<input type="hidden" name="dailyMealList[3].food_seq" value="4">
														<input type="hidden" name="dailyMealList[3].meal_seq" value="2">

															<!-- <div class="row mb-3">
																<div class="col pt-2">
																	<h5>샌드위치</h5>
																</div>


																<div class="col-2 center pt-2">
																	<a href="#"><i class="mdi mdi-minus"></i></a>
																</div>
															</div>

															<div class="row cart-item-card mb-3">
																<div class="col">
																	<h5>김치</h5>
																</div>
																<div class="col-2 center ">
																	<i class="mdi mdi-minus"></i>
																</div>
															</div>
															<div class="row cart-item-card mb-3">
																<div class="col">
																	<h5>김치</h5>
																</div>
																<div class="col-2 center ">
																	<i class="mdi mdi-minus"></i>
																</div>
															</div>
															<div class="row cart-item-card mb-3">
																<div class="col">
																	<h5>김치</h5>
																</div>
																<div class="col-2 center ">
																	<i class="mdi mdi-minus"></i>
																</div>
															</div> -->
														</div>
													
												</div>
											
												<div class="row mt-4">
													<div class="col">
														<h3>저녁</h3>
													
													</div>
													
												</div>
												<hr>
												<div class="p-2">
													

														<div class="food-form outline-primary mt-1 p-1">

															<!-- <div class="row mb-3"
																>
																<div class="col pt-2">
																	<h5>샌드위치</h5>
																</div>


																<div class="col-2 center pt-2">
																	<a href="#"><i class="mdi mdi-minus"></i></a>
																</div>
															</div>

															<div class="row cart-item-card mb-3">
																<div class="col">
																	<h5>김치</h5>
																</div>
																<div class="col-2 center ">
																	<i class="mdi mdi-minus"></i>
																</div>
															</div>
															<div class="row cart-item-card mb-3">
																<div class="col">
																	<h5>김치</h5>
																</div>
																<div class="col-2 center ">
																	<i class="mdi mdi-minus"></i>
																</div>
															</div>
															<div class="row cart-item-card mb-3">
																<div class="col">
																	<h5>김치</h5>
																</div>
																<div class="col-2 center ">
																	<i class="mdi mdi-minus"></i>
																</div>
															</div> -->
														</div>
													
												</div>
												
												<div class="row mt-4">
													<div class="col">
														<h3>간식</h3>
													</div>
													
												</div>
												<hr>
												<div class="p-2">
													

														<div class="food-form outline-primary mt-1 p-1">

															<!-- <div class="row mb-3"
																>
																<div class="col pt-2">
																	<h5>샌드위치</h5>
																</div>


																<div class="col-2 center pt-2">
																	<a href="#"><i class="mdi mdi-minus"></i></a>
																</div>
															</div>

															<div class="row cart-item-card mb-3">
																<div class="col">
																	<h5>김치</h5>
																</div>
																<div class="col-2 center ">
																	<i class="mdi mdi-minus"></i>
																</div>
															</div>
															<div class="row cart-item-card mb-3">
																<div class="col">
																	<h5>김치</h5>
																</div>
																<div class="col-2 center ">
																	<i class="mdi mdi-minus"></i>
																</div>
															</div>
															<div class="row cart-item-card mb-3">
																<div class="col">
																	<h5>김치</h5>
																</div>
																<div class="col-2 center ">
																	<i class="mdi mdi-minus"></i>
																</div>
															</div> -->
														</div>
												
												</div> 
											</div>
										</div>	
										
										<div class="form-group mt-5">
											<label>오늘의 루틴</label> <select id="routine_cart_seq" name="routine_cart_seq"
												class="form-control input-default">
												<option selected="selected">루틴 선택하기</option>
												<option>루틴 1</option>
												<option>루틴 2</option>
												<option>루틴 3</option>
											</select>
										</div>

										<div class="modal fade" id="basicModal">
											<div class="modal-dialog" role="document">
												<div class="modal-content">
													<div class="modal-header">
														<h5 class="modal-title">루틴에 있는 운동 목록</h5>
														<button type="button" class="close" data-dismiss="modal">
															<span>&times;</span>
														</button>
													</div>
													<div class="modal-body">벤치프레스</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary"
															data-dismiss="modal">Close</button>
														<button type="button" class="btn btn-primary">Save
															changes</button>
													</div>
												</div>
											</div>
										</div>

										<div class="row mt-5">
											<div class="form-group col-md-6">
												<label for="exampleFormControlTextarea1">유산소</label>
												<div class="cardio-cart p-2">
													<div>

														<div class="exs-form w-100 outline-primary mt-1 p-1 ">

															<div class="row cart-item-card mb-3"
																>
																<div class="col pt-2">
																	<h5>달리기</h5>
																</div>


																<div class="col-3 center pt-2">
																	<h5>1시간 30분</h5>
																</div>
															</div>

															<div class="row cart-item-card mb-3">
																<div class="col">
																	<h5>수영</h5>
																</div>
																<div class="col-3 center ">
																	<h5>2시간</h5>
																</div>
															</div>
														</div>
													</div>
												</div>
											</div>

											<div class="form-group col-md-6">
												<label for="exampleFormControlTextarea2">무산소</label>
												<div class="cardio-cart p-2">
													<div>

														<div class="exs-form w-100 outline-primary mt-1 p-1 ">

															<div class="row cart-item-card mb-3"
																>
																<div class="col pt-2">
																	<h5>벤치프레스</h5>
																</div>


																<div class="col-3 center pt-2">
																	<h5>5세트 10회</h5>
																</div>
															</div>

															<div class="row cart-item-card mb-3">
																<div class="col">
																	<h5>딥스</h5>
																</div>
																<div class="col-3 center ">
																	<h5>5세트 5회</h5>
																</div>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
										<div class="form-group mt-5">
											<label>일지 공개 여부</label>
											<div class="mt-3 ml-3">
											<label class="switch">
											  <input type="checkbox" id="diary_pubchk" name="diary_pubchk">
											  <span class="slider round"></span>
											</label>
											</div>
										</div>

										<div class="text-right">
											<button type="submit" class="btn btn-outline-primary btn-sm">임시저장</button>
											<a href="myBodiaryDetail.html" class="btn btn-primary btn-sm">확인</a>
										</div>
										</form>
								</div>
							
							</div>
							
						</div>
					</div>

				</div>
			</div>
		</div>
	</div>
	<!-- 기본 폼 완성 -->
	


	<!-- 공통 스크립트-->
	<th:block th:replace="fragments/script :: scriptFragment"></th:block>
		<script type="text/javascript">
$(function(){
	$('#foodsearch').keyup(function(){
		var data = {food_name : $('#foodsearch').val()};
		console.log(data);
		$.ajax(
				 {
					 type:"get",
					 data: data,
					 url:"foodNameSearch",
					 dataType:"json",
					 success:function(responsedata){ 
						$('#foodBox').empty();
						console.log(responsedata);
						var table="<table class='table table-bordered'><thead><tr><th></th><th>이름</th><th>칼로리</th><th>수량</th><th></th>";
						$.each(responsedata,function(index,obj){
							table += "<tr><td>"+obj.food_seq+"</td>" +
								"<td>"+obj.food_name+"</td>" +
								"<td>"+obj.food_cal+"</td>"+
								"<td><input type = 'number' min = '1' max = '100' step = '1' name = 'number'></td>"+
								"<td>"+"<button class='btn btn-outline-primary' onclick=alert('"+obj.food_seq+"눌림')>추가</button>"+"</td><tr>";
						});
						table += "</table>";
						$('#foodBox').append(table);
						

					 }
					
				 }
		
		      );
	});
});
</script>
</body>
</html>