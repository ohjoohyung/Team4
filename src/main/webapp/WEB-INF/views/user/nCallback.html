<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
				xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
				xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<!-- 공통 헤더-->
<th:block th:replace="fragments/htmlhead :: headFragment"></th:block>
<body>
<script type="text/javascript">
  var naver_id_login = new naver_id_login("AYWBY1dmBWBJwgS4UqNE", "http://localhost:8090/bodiary/nCallback");
  // 접근 토큰 값 출력
  alert(naver_id_login.oauthParams.access_token);
  // 네이버 사용자 프로필 조회
  naver_id_login.get_naver_userprofile("naverSignInCallback()");
  // 네이버 사용자 프로필 조회 이후 프로필 정보를 처리할 callback function
  
  /**
	* @함수명 : naverSignInCallback()
	* @작성일 : 2020. 8. 13.
	* @작성자 : 엄지희
	* @설명 : 네이버에서 넘겨받은 정보값을 넘겨주는 메서드
  **/
  function naverSignInCallback() {
    alert(naver_id_login.getProfileData('email'));
    alert(naver_id_login.getProfileData('nickname'));
    alert(naver_id_login.getProfileData('gender'));
    
    window.location.replace("http://" + window.location.hostname + 
            ( (location.port==""||location.port==undefined)?"":":" + location.port) + "/bodiary/main");
  }
</script>
</body>
</html>